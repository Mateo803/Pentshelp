import subprocess


def upload_exploit(repository,target):


	subprocess.run(['git','clone',repository], stdout=None) #Downloading exploit

	exploit = repository[repository.rfind("/")+1:] #Obtaining exploit folder name

	subprocess.run(['ssh',target,'mkdir',exploit,'&&','exit'], stdout=None) #Connects and creates a folder with the same name of the exploit (otherwise scp wonÂ´t work)

	subprocess.run(['sudo','cp','-r',exploit,'pentesting_files/exploits'], stdout=None) #Moving exploit to the exploits folder

	subprocess.run(['scp','-r',exploit,target+':~'+exploit], stdout=None) #Uploading exploit to the target

	subprocess.run(['ssh',target], stdout=None) #Connects to the target, letting the user to execute the exploit
